<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Java Quiz</title>
    <style>
        #question{
            display: block;
        }

        #intro {
            display: block;
        }

        #justify {
            display: none;
        }

        #quiz{
            display: none;
        }

        #form{
            display: none;
        }

        #clear{
            display: none;
        }

        #goback{
            display: none;
        }
    </style>
</head>
<body>
    <div id="container">
    
        <div id="score">View Score Chart</div>
    
    <div class="timer">
        <div id="minutes">25</div>
        <div id="seconds">00</div>
    </div>
        <h1 id="question">Coding Quiz Challenge</h1>
        <h3 id="intro">JavaScript is THE scripting language of the Web. JavaScript is used in millions of Web pages to improve the design, validate forms, detect browsers, create cookies, and much more.
        JavaScript is the most popular scripting language on the internet, and works in all major browsers, such as Chrome, Internet Explorer, and Firefox. By mastering JavaScript and the HTML DOM  you will be able to develop and maintain more dynamic and interactive web pages.</h3>
        <button id="start"> Start Quiz </button>
        <hr>
        <div id="quiz">
            <ol type="a" id="choices">
                <li>
                    <button class="choice" id="A"></button>
                </li>
                <li>
                    <button class="choice" id="B"></button>
                </li>
                <li>
                    <button class="choice" id="C"></button>
                </li>
                <li>
                    <button class="choice" id="D"></button>
                </li>   
            </ol>
                
        </div>
            <p id="justify"></p>
            <p id="alert"></p>
        <div class="form" id="form">
            <label for="name">Your Name: </label>
            <input type="text" id="name" name="name" placeholder="Your name..">
            <button id="submit"> Submit </button>
        </div>
            <ul id="scorelist"></ul>
        <div>
            <button id="goback"> Go Back </button>
            <button id="clear"> Clear Highscores </button>
        </div>
</div>
<script>
    
    
    var questions = [
    {
      title: "Commonly used data types DO NOT include:",
      choices: ["strings", "booleans", "alerts", "numbers"],
      answer: "alerts"
    },
    {
      title: "The condition in an if / else statement is enclosed within ____.",
      choices: ["quotes", "curly brackets", "parentheses", "square brackets"],
      answer: "parentheses"
    },
    {
      title: "Inside which HTML element do we put the JavaScript?",
      choices: ["js", "scripting", "javascript", "script"],
      answer: "script"
    },
    {
      title: "Where is the correct place to insert a JavaScript?",
      choices: ["head", "body", "div", "section"],
      answer: "body"
    },
    {
      title: "What is the correct syntax for referring to an external script called 'xxx.js'?",
      choices: ["script src='xxx.js'", "script href='xxx.js'", "script name='xxx.js'", "script style='xxx.js'"],
      answer: "script src='xxx.js'"
    },
  ];
  
var start = document.getElementById("start");
var introduction = document.querySelector("#intro");
var next = document.getElementById("choices");
var question = document.getElementById("question");
var quiz = document.getElementById("quiz");
var answer1 = document.getElementById("A");
var answer2 = document.getElementById("B");
var answer3 = document.getElementById("C");
var answer4 = document.getElementById("D");
var message = document.getElementById("justify");
var form = document.getElementById("form");
var display = document.getElementById("submit");
var scorelist = document.getElementById("scorelist");
var user = document.getElementById("name");
var alertuser = document.getElementById("alert");
var clear = document.getElementById("clear");
var goback = document.getElementById("goback");
var questioncount = 0;
var lastQuestion = questions.length - 1;
var score = 0;
var time;

start.addEventListener("click", function(){
    startquiz();
})

function renderQuestion(){
    var q =  questions[questioncount];
  
    question.innerHTML = q.title;
    answer1.innerHTML = q.choices[0];
    answer2.innerHTML = q.choices[1];
    answer3.innerHTML = q.choices[2];
    answer4.innerHTML = q.choices[3];
    message.style.display = "none";
    clearInterval(time);
};

function startquiz (){
    start.style.display = "none";
    introduction.style.display = "none";
    quiz.style.display = "block";
    renderQuestion();
  };

  //next question
next.addEventListener("click", function(event) {
  event.preventDefault();
  if(event.target.matches("button")) {
    checkAnswer(event.target.innerHTML);
  }
});

function checkAnswer (answer){
    console.log(answer);
    if(answer === questions[questioncount].answer){
        // answer is correct
        score++;
        answerIsCorrect();
    }else{
        // answer is wrong
        answerIsWrong();  
        score=score;
    }
    time = setInterval(nextquestion, 1000); 
};

function nextquestion() {
        if(questioncount < lastQuestion){
        questioncount++;
        clearInterval(time);
        renderQuestion();
    }else{
        // end the quiz and show the score
        scorerender();
    }
};

function answerIsCorrect(){
    message.style.display = "block";
    message.textContent = "!Correct";
};

// answer is Wrong
function answerIsWrong(){
    message.style.display = "block";
    message.textContent = "!Wrong";
};

function scorerender(){
    quiz.style.display = "none";
    form.style.display = "block";
    message.textContent = "Your score is: " + score;
};


function displayMessage(type, message){
    alertuser.textContent = message;
    alertuser.setAttribute("class", type);
};

display.addEventListener("click", function(event){
    event.preventDefault();
    clear.style.display = "block";
    goback.style.display = "block";

    var username = user.value;
    
    message.style.display="none";

    if (username !== ""){
        alertuser.textContent = "";
        form.innerHTML = "";
        var li = document.createElement("li");
        li.textContent = username + ": " + score;
        scorelist.appendChild(li);    
    } else {  
        alert("name cannot be blank!");
        return;
    }
});

clear.addEventListener("click", function(){
    scorelist.innerHTML="";
    
});


    </script>
</body>
</html>